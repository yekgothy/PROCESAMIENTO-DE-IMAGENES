<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>MundialCUP 2026 - AR Interactivo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="ar-style.css" >

  <!-- Librer√≠as -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
</head>

<body>
  <!-- Loader -->
  <div id="loader" class="loader">
    <div class="loader-content">
      <span class="loader-ring"></span>
      <p class="loader-message">Preparando visor AR...</p>
    </div>
  </div>

  <!-- Pantalla de bienvenida -->
  <section id="landing-screen" class="landing-screen">
    <div class="landing-card">
      <p class="eyebrow">PROCESAMIENTO DE IM√ÅGENES ¬∑ MUNDIAL 2026</p>
      <h1>Eclipse 2026: tu estadio hologr√°fico en cualquier superficie</h1>
      <p>
        Escanea p√≥sters, tarjetas o c√≥digos oficiales para desplegar estadios, trofeos y trivias
        interactivas. Suma puntos dorados por cada hallazgo y comp√°rtelos con tu comunidad.
      </p>
      <div class="landing-actions">
        <button id="profile-btn" class="cta-btn secondary" type="button">Crear mi perfil</button>
        <button id="start-scan-btn" class="cta-btn primary" type="button">Iniciar escaneo</button>
        <button id="viewer-btn" class="cta-btn ghost" type="button">Abrir visor AR</button>
      </div>
    </div>
  </section>

  <div id="scan-hint" class="scan-hint hidden">
    Mant√©n el marcador completamente visible para desbloquear la experiencia. <strong>Iluminaci√≥n uniforme</strong> ayuda al seguimiento.
  </div>

  <!-- Escena AR -->
  <a-scene
    id="ar-scene"
    mindar-image="imageTargetSrc: ./banderas/targets.mind; autoStart: true; maxTrack: 1;"
    renderer="colorManagement: true; physicallyCorrectLights: true;"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: true"
  >
    <!-- Assets (videos y modelos pre-cargados) -->
    <a-assets id="ar-assets"></a-assets>

    <!-- C√°mara -->
    <a-camera
      position="0 0 0"
      look-controls="enabled: false"
      cursor="fuse: false; rayOrigin: mouse;"
      raycaster="objects: .clickable"
    ></a-camera>
  </a-scene>

  <!-- üéûÔ∏è Panel de Filtros de Video -->
  <div id="filter-panel" class="filter-card hidden">
    <div class="filter-header">
      <h4>üé® Filtros de Video</h4>
      <button id="close-filters" class="close-filters-btn">‚úñ</button>
    </div>
    <div id="filter-options">
      <button data-filter="none">Original</button>
      <button data-filter="grayscale(1)">Blanco y negro</button>
      <button data-filter="sepia(0.6) contrast(1.3)">Vintage</button>
      <button data-filter="hue-rotate(180deg) saturate(1.8)">Ne√≥n</button>
      <button data-filter="contrast(1.4) brightness(1.1) saturate(1.2)">Cinem√°tico</button>
    </div>
  </div>

  <!-- üéØ Contenedor de Trivia -->
  <div id="trivia-container" class="trivia-card hidden">
    <h3 id="trivia-question"></h3>
    <div id="trivia-options"></div>
    <p id="trivia-feedback"></p>
    <button id="trivia-close" class="trivia-close-btn">Cerrar</button>
  </div>

  <!-- üìä Contenedor de Estad√≠sticas -->
  <div id="stats-container" class="stats-card hidden">
    <h3 id="stats-title"></h3>
    <ul id="stats-list"></ul>
    <button id="stats-close" class="stats-close-btn">Cerrar</button>
  </div>

  <!-- üé¨ Video superpuesto (para filtros CSS reales) -->
  <video id="overlayVideo" class="filtered-video hidden" playsinline muted></video>

  <!-- ‚ñ∂Ô∏è Iframe para videos de YouTube -->
  <div id="overlayIframe" class="filtered-video hidden">
    <iframe id="youtubeFrame"
            width="100%"
            height="100%"
            frameborder="0"  
            allow="autoplay; encrypted-media"
            allowfullscreen>
    </iframe>
    <a id="youtubeLink" href="#" target="_blank" class="yt-link-btn">üîó Ver en YouTube</a>
  </div>

  <!-- üéÆ Contenedor de Botones Principales -->
  <div class="menu hide">
    <button id="triviaBtn" class="ar-btn">Trivia interactiva</button>
    <button id="historiaBtn" class="ar-btn">Historia oficial</button>
    <button id="manualBtn" class="ar-btn">Gu√≠a de uso</button>
    <button id="statsBtn" class="ar-btn">Panel de datos</button>
    <button id="btn-model" class="ar-btn">Modelo 3D</button>
    <button id="btn-video" class="ar-btn">Contenido multimedia</button>
    <button id="btn-effect" class="ar-btn">Efectos especiales</button>
  </div>

  <script src="script.js"></script>
  <script src="ar-logic.js" defer></script>
</body>
</html>